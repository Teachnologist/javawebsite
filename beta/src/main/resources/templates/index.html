<!DOCTYPE>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Material Design</title>
    <script src="/jquery/jquery.js"></script>
    <script src="/mdl/material.min.js"></script>


    <script type="text/javascript" src="http://github-profile.com/dist/gh-profile-card.min.js"></script>

    <link rel="stylesheet" href="http://github-profile.com/dist/gh-profile-card.min.css" />

    <link rel="stylesheet" type="text/css" media="all"
          href="/mdl/material.min.css"
          th:href="@{/mdl/material.min.css}">


    <link rel="stylesheet" type="text/css" media="all"
          href="/resources/css/style.css"
          th:href="@{/resources/css/style.css}"/>

    <link rel="stylesheet" type="text/css" media="all"
          href="/resources/css/buttons.css"
          th:href="@{/resources/css/buttons.css}"/>

    <link rel="stylesheet" type="text/css" media="all"
          href="/resources/css/card.css"
          th:href="@{/resources/css/card.css}"/>

    <link rel="stylesheet" type="text/css" media="all"
          href="/resources/css/dialog.css"
          th:href="@{/resources/css/dialog.css}"/>

    <link rel="stylesheet" type="text/css" media="all"
          href="/resources/css/cover"
          th:href="@{/resources/css/cover}"/>

    <script type="text/javascript" src="https://platform.linkedin.com/badges/js/profile.js"></script>

</head>
<body>

<main class="mdl-layout wrapper change-color cover ">
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone center-child">
            <p style="font-size: 88px;" id="walking-title" class="opaque-7">WELCOME TO</p>
        </div>

            <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone center-child">
            <h1 class="title-font fade-in" id="title">JASON TRICHE</h1>
            </div>
                <div class="mdl-cell mdl-cell--12-col mdl-cell--8-col-tablet mdl-cell--4-col-phone center-child">
                    <a href="/home"><button>Begin</button></a>
                </div>


        </div>
    </div>


</main>

</body>
<style>

    #modal-buttons {
        display:block;
        background-color:white;
    }

    #modal-buttons > a {
        display:inline;
        color:green;
    }

    .modal-trigger{
        display:none;
    }


   #modal-body {
       position:absolute;
       left:0;
       top:0;
       width:100%;
       height:100%;
       background-color:green;
       opacity:0.6;
       z-index:998;
   }

   #modal-filler {
       position:relative;
       height:100%;
       width:100%;
       opacity:1;
       background-color:blue;
   }

   #modal-canvas {
       position:absolute;
       left:0;
       top:25%;
       bottom:25%;
       width:100%;
       height:auto;
       background-color:yellow;
       opacity:1;
       z-index:999;
   }

#modal-banner {
    width:100%;
    position:relative;
    background-color:brown;
    height:auto;
}


</style>
<script>
    $(document).ready(function(){
        alert("jquery on");

        var title = "Welcome to ...";
        var name = "JASON TRICHE";


        $("#walking-title").html("");
        $("#title").css("opacity",0.1);

        var wordarray = title.split("");

        walkWord(wordarray,500,0);

        function addName(){
            $("#title").html(name);
            $("#title").animate({opacity: 0.7},"slow");

        }


        function walkWord(wordarray,time,index){
console.dir(wordarray);
            setTimeout(function() {


                var i = parseInt(index);
                if(wordarray.length - 1 === i){
                    addName();
                    return false;
                }

                console.dir(wordarray[i]);

                printLetter(wordarray[i]);
                i++;

console.log(i);
                walkWord(wordarray,time,i);
            }, time);


        }

        function printLetter(letter){

            $("#walking-title").append(letter);
            return false;

        }





        var content = {};

    /*    (function() {

            'use strict';
            var dialog = document.querySelector('#modal-example');
            var closeButton = dialog.querySelector('button');
            var showButton = document.querySelector('#show-modal-example');
            if (! dialog.showModal) {
                dialogPolyfill.registerDialog(dialog);
            }
            var closeClickHandler = function(event) {
                dialog.close();
            };
            var showClickHandler = function(event) {
                dialog.showModal();
            };
            showButton.addEventListener('click', showClickHandler);
            closeButton.addEventListener('click', closeClickHandler);
        }());*/

        preloadModal();

    function preloadModal(){
        $("#modal-content").load('/resources/jqtemplates/linkedin.html #linkedin_card',function(){
            content["linkedin_link"]= $(this).html();

        });

    }


        $("#linkedin_link").click(function(){
            alert($(".modal-trigger").css("display"));
           if($(".modal-trigger").css("display") != "none"){
               hideModal(".modal-trigger");
           }else{

               loadLI();

           }

        });

        function loadLI(){
            alert(content["linkedin_link"]);
            $("#modal-content").html(content["linkedin_link"]);
        }

        $("#github_link").click(function(){
            alert($(".modal-trigger").css("display"));
            if($(".modal-trigger").css("display") != "none"){
                hideModal(".modal-trigger");
            }else{
                showModal(".modal-trigger");
                getGithubCard("#modal-content");
            }

        });



        function hideModal(selector){
            $(".cancel").off();
            $(".action").off();
            $(selector).css("display","none");

            return false;
        }

        function showModal(selector,content_html){

            $(selector).css("display","block");

            $("#modal-content").html(content_html);

            $(".cancel").click(function() {
                alert(selector);
                hideModal(selector);
                return false;
            });


            $(".action").click(function() {
                alert("something happens!");
                alert(selector);
                return false;
            });

        }



     //   $("#contact_form").css("display","none");
        getForm();

        $(".nojs-link").attr("href","#");
        $(".nojs-link").removeAttr('target');




        $("#contact_link").click(function(){
            if($("#contact_form").css("display") != "none"){
                hideForm();
        }else{
                showForm();
        }
        });




      /*  $("#linkedin_link").click(function(){
            alert(2);
            getLinkedInBadge();
            return false;
        });
*/

        function getGithubCard(selector){
            var widget = new GitHubCard({
                username: 'TEACHNOLOGIST',
                template: selector,
                sortBy: 'updateTime',
                reposHeaderText: 'Active Repos',
                maxRepos: 3
            });

            widget.init();
            console.log("initialized - possibly has to be loaded while window loads");


            return false;
        }

        function getLinkedInBadge(){
            $("#display_window").load('/resources/jqtemplates/linkedin.html #linkedin_card');

        }

        function getForm() {
            hideForm();
            $("#contact_form").load('/resources/jqtemplates/contact.html #form_card', function () {

                $("#submit").click(function () {

                    alert($("#fromemail").val());
                    hideForm();
                    return false;
                });

                $("#cancel").click(function () {
                    hideForm();
                    return false;
                });

            });
        }

        function hideForm(){

            $("#contact_form").css("display","none");

        }

        function showForm(){

            $("#contact_form").css("display","block");

        }

    });

</script>
<style>
    .LI-badge-container {
        height:100% !important;
        width:100% !important;
    }
</style>
</html>